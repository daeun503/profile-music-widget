<svg xmlns="http://www.w3.org/2000/svg" width="560" height="160" viewBox="0 0 560 160">
  <defs>
    <linearGradient id="bgGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#0b0b10"/>
      <stop offset="1" stop-color="#151526"/>
    </linearGradient>

    <clipPath id="cardClip">
      <rect width="560" height="160" rx="26"/>
    </clipPath>

    <clipPath id="thumbClip">
      <rect x="18" y="18" width="124" height="124" rx="18"/>
    </clipPath>

    <clipPath id="titleClip">
      <rect x="160" y="42" width="372" height="30"/>
    </clipPath>

    <style>
      .t-sub { font: 600 12px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto; fill: rgba(255,255,255,0.70); }
      .t-title { font: 800 18px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto; fill: rgba(255,255,255,0.98); }
      .t-meta { font: 600 12px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto; fill: rgba(255,255,255,0.55); }
      .shadow { filter: drop-shadow(0 10px 24px rgba(0,0,0,0.35)); }
    </style>

    <filter id="bgBlur" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="2"/>
    </filter>

  </defs>

  <g clip-path="url(#cardClip)">
    <rect width="560" height="160" rx="26" fill="url(#bgGrad)"/>

    <!-- Background GIF/IMAGE -->
    <image href="{{BG_URL}}"
           x="0" y="0" width="560" height="160"
           preserveAspectRatio="xMidYMid slice"
           opacity="0.55"
           filter="url(#bgBlur)"/>

    <!-- Readability overlay -->
    <rect x="0" y="0" width="560" height="160" fill="rgba(0,0,0,0.35)"/>

    <a href="{{URL}}" target="_blank" rel="noopener noreferrer">
      <!-- thumbnail -->
      <g class="shadow" clip-path="url(#thumbClip)">
        <image href="{{THUMB_URL}}"
               x="18" y="18" width="124" height="124"
               preserveAspectRatio="xMidYMid slice"/>
      </g>
      <rect x="18" y="18" width="124" height="124" rx="18"
            fill="none" stroke="rgba(255,255,255,0.14)"/>

      <!-- Channel name -->
      <text x="160" y="40" class="t-sub">{{CHANNEL_NAME}}</text>

      <!-- Title: marquee -->
      <g clip-path="url(#titleClip)">
        <!-- DONT REMOVE: TITLE_FLOW_START -->
        <g clip-path="url(#titleClip)">
          <g>
            <text x="160" y="68" class="t-title">{{TITLE}}</text>
            <animateTransform
              attributeName="transform"
              type="translate"
              from="0 0"
              to="-{{MARQUEE_DX}} 0"
              dur="{{MARQUEE_DUR}}s"
              begin="1s"
              repeatCount="indefinite"/>
          </g>

          <g>
            <text x="{{TITLE_X2}}" y="68" class="t-title">{{TITLE}}</text>
            <animateTransform
              attributeName="transform"
              type="translate"
              from="0 0"
              to="-{{MARQUEE_DX}} 0"
              dur="{{MARQUEE_DUR}}s"
              begin="1s"
              repeatCount="indefinite"/>
          </g>
        </g>
        <!-- DONT REMOVE: TITLE_FLOW_END -->

        <!-- DONT REMOVE: TITLE_STATIC_START -->
        <text x="160" y="68" class="t-title">{{TITLE}}</text>
        <!-- DONT REMOVE: TITLE_STATIC_END -->
      </g>

      <!-- =========================
           DOTTED PLAYER BAR (JUMP LOOP)
           ========================= -->

      <!-- Track start/end: x1=200, x2=500 (length 300) -->
      <g>
        <!-- Dotted track -->
        <line x1="200" y1="94" x2="500" y2="94"
              stroke="rgba(255,255,255,0.70)"
              stroke-width="2"
              stroke-linecap="round"
              stroke-dasharray="2 7"
              opacity="0.55"/>

        <!-- Progress bar: increases from 0 -> 300, then instantly jumps back to 0 -->
        <rect x="200" y="93" width="0" height="2" rx="2"
              fill="rgba(255,255,255)">
          <animate attributeName="width"
                   dur="60s"
                   repeatCount="indefinite"
                   calcMode="linear"
                   values="0;300;300;0"
                   keyTimes="0;0.999;0.9995;1"/>
        </rect>

        <!-- Knob: moves from 200 -> 500, then instantly jumps back to 200 -->
        <circle cx="200" cy="94" r="6" fill="rgba(255,255,255)">
          <animate attributeName="cx"
                   dur="60s"
                   repeatCount="indefinite"
                   calcMode="linear"
                   values="200;500;500;200"
                   keyTimes="0;0.999;0.9995;1"/>
        </circle>

        <!-- Knob glow -->
        <circle cx="200" cy="94" r="10" fill="rgba(255,255,255,0.10)">
          <animate attributeName="cx"
                   dur="60s"
                   repeatCount="indefinite"
                   calcMode="linear"
                   values="200;500;500;200"
                   keyTimes="0;0.999;0.9995;1"/>
        </circle>

        <!-- Time -->
        <text x="160" y="98" class="t-meta">{{TIME_LEFT}}</text>
        <text x="535" y="98" class="t-meta" text-anchor="end">{{TIME_RIGHT}}</text>
      </g>

      <text x="160" y="128" class="t-meta">YouTube â€¢ Click to open playlist</text>
    </a>
  </g>
</svg>
